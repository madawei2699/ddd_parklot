# DDD with ParkLot

## UML class diagram

![](https://www.plantuml.com/plantuml/img/ZLFRJiCm37tFL-InW-qFgceCUAWq0M8Jxrbhkh0qcH9tg0B-7QTjkko2HAMgZdsExMEdSuV2ObChvdPIxuKLDQ-DDiNMcXeusWQYo5ReyjDAHD1zY4cDODz50Jn_4PQ0rT8W_sASdjk5CGg4vjAzGW5oZsz2oJ8P3fCUT2yihm3fisY7o1bYE77gOKUmXDu9-xbMUs7QK7jfTENptXs4L6AZm4EIwnaNhG_cPU99Kzxbxt078qikojA7LyhWsdYB52R1C-M39sPOgCq1_aKY6OKIpl5eUcdwg55YcsM3c4wBB7jREaofmumNmhgZQv2KKV7EY4AXRDRfzPQxgEidTratiFl6UdvlHndy0jEKLji0VzvyG85ZWXLQWlEz4WXFJRq1UwI57VoVEeuYoCZxaJmG9BIsbZMSYlF0lugCsPPZifmkLGLsh75iExxWwVSisXYBxryKeYEB8cPsGehIcPcVOkov8UmmeNDt4CNO77H9l-ul)

### Source Edit

[ParkLot](https://www.planttext.com/?text=ZLFRJiCm37tFL-InW-qFgceCUAWq0M8Jxrbhkh0qcH9tg0B-7QTjkko2HAMgZdsExMEdSuV2ObChvdPIxuKLDQ-DDiNMcXeusWQYo5ReyjDAHD1zY4cDODz50Jn_4PQ0rT8W_sASdjk5CGg4vjAzGW5oZsz2oJ8P3fCUT2yihm3fisY7o1bYE77gOKUmXDu9-xbMUs7QK7jfTENptXs4L6AZm4EIwnaNhG_cPU99Kzxbxt078qikojA7LyhWsdYB52R1C-M39sPOgCq1_aKY6OKIpl5eUcdwg55YcsM3c4wBB7jREaofmumNmhgZQv2KKV7EY4AXRDRfzPQxgEidTratiFl6UdvlHndy0jEKLji0VzvyG85ZWXLQWlEz4WXFJRq1UwI57VoVEeuYoCZxaJmG9BIsbZMSYlF0lugCsPPZifmkLGLsh75iExxWwVSisXYBxryKeYEB8cPsGehIcPcVOkov8UmmeNDt4CNO77H9l-ul)

### IDEA UML Generate

![](./doc/parklot_uml_impl.png)

## Run

```
mvn test
```

## Code Review Problem

- ParkingBoy没必要知道ParkId，自动选择即可
- 接口没必要抽出来，如果抽出来，依赖的必须是接口而不是实现
- HashMap比List要好
- 不对外暴露的属性没必要设置Getter/Setter
- Model和UML图保持一致
- 检查IDEA的自动提示，不断重构
- 无副作用的函数：停车和获取小票的逻辑分开，原子操作